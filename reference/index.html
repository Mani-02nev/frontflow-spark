<!DOCTYPE html>
<html lang="en">

<head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>SIT College - Home</title>
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
     <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
     <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.11.3/font/bootstrap-icons.min.css" />
     <style>
          :root {
               --primary-blue: #243c7e;
               --secondary-blue: #2563EB;
               --accent-yellow: #FACC15;
               --bg-light: #F9FAFB;
               --text-dark: #1f2937;
               --text-light: #f8f9fa;
               --glow-color: rgba(56, 189, 248, 0.5);
          }

          body {
               background: linear-gradient(to right, #e3f2fd, #bbdefb);
               color: var(--text-dark);
               font-family: 'Poppins', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
          }

          #preloader {
               position: fixed;
               top: 0;
               left: 0;
               width: 100vw;
               height: 100vh;
               background: var(--primary-blue);
               z-index: 9999;
               display: flex;
               justify-content: center;
               align-items: center;
               transition: opacity 0.5s ease-out;
          }

          .spinner {
               width: 60px;
               height: 60px;
               border: 5px solid rgba(255, 255, 255, 0.3);
               border-top-color: var(--accent-yellow);
               border-radius: 50%;
               animation: spin 1s linear infinite;
          }

          @keyframes spin {
               to {
                    transform: rotate(360deg);
               }
          }

          .header {
               background: linear-gradient(90deg, var(--primary-blue), var(--secondary-blue));
               color: #fff;
               padding: 15px;
               display: flex;
               align-items: center;
               justify-content: space-between;
          }

          .header-title {
               font-size: 22px;
               font-weight: 600;
               text-align: center;
               flex: 1;
          }

          .img-logo {
               width: 50px;
               height: 50px;
               border-radius: 10px;
          }

          .navbar {
               background: linear-gradient(to right, #e3f2fd, #bbdefb);
               box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
          }

          .navbar-nav .nav-link {
               transition: all 0.3s ease;
               border-radius: 8px;
               padding: 8px 15px;
               color: var(--text-dark) !important;
               font-weight: 600;
          }

          .navbar-nav .nav-link:hover,
          .navbar-nav .nav-link.active {
               background: #1e40af;
               color: #fff !important;
               transform: translateY(-3px);
          }

          /* Hero Section Motion Graphics */
          .hero {
               position: relative;
               background: url("img/download.jpeg") no-repeat center center/cover;
               color: var(--text-light);
               text-align: center;
               padding: 120px 20px 100px;
               border-radius: 0 0 60px 60px;
               overflow: hidden;
          }

          .hero .overlay {
               position: absolute;
               top: 0;
               left: 0;
               width: 100%;
               height: 100%;
               background: rgba(36, 60, 126, 0.60);
               z-index: 1;
          }

          .hero-content {
               position: relative;
               z-index: 2;
          }

          .hero::before,
          .hero::after {
               content: '';
               position: absolute;
               border-radius: 50%;
               opacity: .13;
               animation: floaty 15s ease-in-out infinite alternate;
               pointer-events: none;
          }

          .hero::before {
               width: 140px;
               height: 140px;
               top: 80px;
               left: 10vw;
               box-shadow: 0 0 60px 30px #38BDF8;
               background: #38bdf8;
          }



          .hero::after {
               width: 210px;
               height: 210px;
               bottom: 25px;
               right: 6vw;
               background: #facc15;
               animation-delay: -8s;
               box-shadow: 0 0 70px 30px #facc15;
          }

          @keyframes floaty {
               from {
                    transform: translateY(0) scale(1);
               }

               to {
                    transform: translateY(-40px) scale(1.06);
               }
          }

          .hero-content h1 {
               font-size: 48px;
               font-weight: 700;
               animation: fadeInDown 1s ease;
               color: var(--accent-yellow);
          }

          .hero-content h2 {
               font-size: 46px;
               font-weight: 700;
               color: #ffffff;
               animation: fadeInDown 1.2s ease;
          }

          .hero-content p {
               color: var(--bg-light);
               font-size: 18px;
               margin-bottom: 20px;
               animation: fadeInUp 1.1s ease;
          }

          .hero-content .btn {
               animation: fadeInUp 1.3s ease;
               font-weight: 700;
               box-shadow: 0 0 10px var(--accent-yellow), 0 8px 20px rgba(36, 60, 126, 0.05);
          }

          @keyframes fadeInDown {
               from {
                    opacity: 0;
                    transform: translateY(-30px);
               }

               to {
                    opacity: 1;
                    transform: translateY(0);
               }
          }

          @keyframes fadeInUp {
               from {
                    opacity: 0;
                    transform: translateY(30px);
               }

               to {
                    opacity: 1;
                    transform: translateY(0);
               }
          }

          .section-heading {
               text-align: center;
               color: var(--primary-blue);
               margin-bottom: 40px;
               font-weight: 700;
          }

          /* === MODERN AUTH/PROFILE CARD STYLES START === */
          .auth-card,
          .profile-card {
               max-width: 450px;
               margin: auto;
               background: rgba(255, 255, 255, 0.6);
               /* Glass effect */
               backdrop-filter: blur(10px);
               -webkit-backdrop-filter: blur(10px);
               padding: 2.5rem;
               border-radius: 20px;
               box-shadow: 0 10px 35px rgba(0, 0, 0, 0.1);
               border: 1px solid rgba(255, 255, 255, 0.2);
          }

          /* Modern Tabs */
          .auth-card .nav-tabs {
               border: none;
               background-color: rgba(36, 60, 126, 0.1);
               border-radius: 50px;
               padding: 5px;
               margin-bottom: 2rem !important;
          }

          .auth-card .nav-tabs .nav-item {
               flex: 1;
          }

          .auth-card .nav-tabs .nav-link {
               border: none !important;
               border-radius: 50px;
               font-weight: 600;
               color: var(--primary-blue);
               text-align: center;
               transition: all 0.3s ease;
          }

          .auth-card .nav-tabs .nav-link.active {
               background-color: var(--primary-blue);
               color: white;
               box-shadow: 0 4px 15px rgba(37, 99, 235, 0.4);
          }

          /* Modern Input Fields with Icons */
          .input-group-custom {
               position: relative;
               margin-bottom: 1.5rem;
               background-color: #fff;
          }

          .input-group-custom .form-control {
               background: #f0f4f8;
               border: none;
               border-bottom: 2px solid #ddd;
               border-radius: 8px;
               height: 50px;
               padding-left: 45px;
               font-weight: 500;
               transition: all 0.3s ease;
          }

          .input-group-custom .form-control:focus {
               box-shadow: none;
               border-bottom-color: var(--secondary-blue);
               background-color: #fff;
          }

          .input-group-custom .input-icon {
               position: absolute;
               top: 50%;
               left: 15px;
               transform: translateY(-50%);
               color: #9ca3af;
               transition: color 0.3s ease;
          }

          .input-group-custom .form-control:focus+.input-icon {
               color: var(--secondary-blue);
          }

          /* Modern Buttons */
          .btn-modern {
               font-weight: 600;
               border-radius: 10px;
               padding: 12px;
               border: none;
               transition: all 0.3s ease;
               box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
          }

          .btn-modern:hover {
               transform: translateY(-3px);
               box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
          }

          .btn-modern-primary {
               background: linear-gradient(90deg, var(--secondary-blue), var(--primary-blue));
               color: white;
          }

          .btn-modern-google {
               background-color: #fff;
               color: var(--text-dark);
               border: 1px solid #ddd;
          }

          .btn-modern-google:hover {
               border-color: #aaa;
          }

          .divider {
               display: flex;
               align-items: center;
               text-align: center;
               color: #888;
               margin: 1.5rem 0;
          }

          .divider::before,
          .divider::after {
               content: '';
               flex: 1;
               border-bottom: 1px solid #ddd;
          }

          .divider:not(:empty)::before {
               margin-right: .5em;
          }

          .divider:not(:empty)::after {
               margin-left: .5em;
          }

          /* Profile Card */
          .profile-card {
               text-align: center;
          }

          .profile-avatar {
               width: 120px;
               height: 120px;
               border-radius: 50%;
               border: 4px solid var(--secondary-blue);
               margin: 0 auto 20px;
               object-fit: cover;
               box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
          }

          .profile-name {
               font-size: 1.75rem;
               font-weight: 700;
               color: var(--primary-blue);
          }

          .profile-email {
               font-size: 1rem;
               color: #6c757d;
               margin-bottom: 25px;
          }

          .profile-actions .btn {
               margin: 5px;
               min-width: 160px;
          }

          /* === MODERN AUTH/PROFILE CARD STYLES END === */

          .about-box {
               background: #fff;
               border-left: 5px solid var(--primary-blue);
               border-radius: 15px;
               padding: 30px 35px;
               text-align: justify;
               box-shadow: 0px 8px 25px rgba(36, 60, 126, 0.1);
               line-height: 1.8;
               font-size: 17px;
               color: #333;
          }

          .cards {
               display: grid;
               grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
               gap: 30px;
          }

          .card-custom {
               background: #fff;
               padding: 25px;
               border-radius: 15px;
               border-top: 4px solid var(--secondary-blue);
               box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
               text-align: center;
               transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
               position: relative;
               overflow: hidden;
          }

          .card-custom:hover {
               transform: translateY(-10px) scale(1.03);
               border-top-color: var(--accent-yellow);
               box-shadow: 0 12px 30px var(--glow-color);
          }

          .card-custom h3 {
               color: var(--primary-blue);
               font-weight: 600;
          }

          .card-custom img {
               width: 80px;
               height: 80px;
               margin: 0 auto 15px auto;
               display: block;
               transition: transform 0.3s ease;
          }

          .card-custom:hover img {
               transform: scale(1.1) rotate(5deg);
          }

          .contact {
               text-align: center;
               padding: 50px 20px;
               background-color: #f0f4f8;
               margin-top: 40px;
          }

          .contact h2 {
               font-size: 28px;
               color: var(--primary-blue);
               margin-bottom: 25px;
               font-weight: 700;
          }

          .contact-card {
               display: flex;
               flex-wrap: wrap;
               justify-content: center;
               gap: 30px;
               background: white;
               border-radius: 15px;
               box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
               padding: 30px;
          }

          .address {
               flex: 1 1 300px;
               text-align: left;
          }

          .address h3 {
               color: var(--primary-blue);
               margin-bottom: 15px;
               font-weight: 600;
          }

          .address p {
               margin-bottom: 15px;
               color: #444;
               line-height: 1.7;
          }

          .map-container {
               flex: 1 1 350px;
               border-radius: 12px;
               overflow: hidden;
               border: 3px solid #ddd;
          }

          .map-container iframe {
               width: 100%;
               height: 100%;
               min-height: 250px;
               border: 0;
          }

          footer {
               background: var(--primary-blue);
               color: var(--text-light);
               text-align: center;
               padding: 25px;
               margin-top: 40px;
               border-radius: 15px 15px 0 0;
          }

          .fade-in-section {
               opacity: 0;
               transform: translateY(40px);
               transition: opacity 0.8s ease-out, transform 0.8s ease-out;
          }

          .fade-in-section.is-visible {
               opacity: 1;
               transform: translateY(0);
          }
     </style>
</head>

<body>
     <div id="preloader">
          <div class="spinner"></div>
     </div>
     <header class="header">
          <span><img class="img-logo" src="img/sit.jpeg" alt="SIT Logo"></span>
          <span class="header-title">SESHASAYEE INSTITUTE OF TECHNOLOGY, Trichy</span>
          <span><img class="img-logo" src="img/FOUNDER.jpeg" alt="Founder"></span>
     </header>
     <nav class="navbar navbar-expand-lg sticky-top">
          <div class="container-fluid">
               <a class="navbar-brand fw-bold text-dark" href="#">SIT College</a>
               <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
               </button>
               <div class="collapse navbar-collapse justify-content-center" id="navbarNav">
                    <ul class="navbar-nav gap-3">
                         <li class="nav-item"><a class="nav-link active" href="#">Home</a></li>
                         <li class="nav-item"><a class="nav-link" href="dept.html">Departments</a></li>
                         <li class="nav-item"><a class="nav-link" href="admission.html">Admission</a></li>
                         <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
                         <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
                         <li class="nav-item"><a class="nav-link" href="Ai.html">AI</a></li>
                    </ul>
               </div>
          </div>
     </nav>
     <section class="hero">
          <div class="overlay"></div>
          <div class="hero-content">
               <h1>Welcome To</h1>
               <h2>SIT Trichy</h2>
               <p>Dedicated to excellence in education, innovation, and research for a brighter future.</p>
               <a href="#" class="btn btn-warning fw-bold px-4 py-2 shadow">Explore More</a>
          </div>
     </section>
     <main class="container">
          <section id="auth-section-container" class="my-5 fade-in-section">
               <div id="login-signup-card" class="auth-card">
                    <ul class="nav nav-tabs nav-fill mb-4" id="authTabs" role="tablist">
                         <li class="nav-item" role="presentation">
                              <button class="nav-link active" id="login-tab" data-bs-toggle="tab"
                                   data-bs-target="#login-tab-pane" type="button" role="tab">Login</button>
                         </li>
                         <li class="nav-item" role="presentation">
                              <button class="nav-link" id="signup-tab" data-bs-toggle="tab"
                                   data-bs-target="#signup-tab-pane" type="button" role="tab">Sign Up</button>
                         </li>
                    </ul>
                    <div class="tab-content" id="authTabsContent">
                         <div class="tab-pane fade show active" id="login-tab-pane" role="tabpanel">
                              <div class="input-group-custom">
                                   <input type="email" id="loginEmail" class="form-control" placeholder="Enter email">
                                   <i class="bi bi-envelope input-icon"></i>
                              </div>
                              <div class="input-group-custom">
                                   <input type="password" id="loginPassword" class="form-control"
                                        placeholder="Enter password">
                                   <i class="bi bi-lock input-icon"></i>
                              </div>
                              <button class="btn btn-modern btn-modern-primary w-100"
                                   onclick="emailLogin()">Login</button>
                         </div>
                         <div class="tab-pane fade" id="signup-tab-pane" role="tabpanel">
                              <div class="input-group-custom">
                                   <input type="email" id="signupEmail" class="form-control" placeholder="Enter email">
                                   <i class="bi bi-envelope input-icon"></i>
                              </div>
                              <div class="input-group-custom">
                                   <input type="password" id="signupPassword" class="form-control"
                                        placeholder="Enter password">
                                   <i class="bi bi-lock input-icon"></i>
                              </div>
                              <button class="btn btn-modern btn-modern-primary w-100" onclick="emailSignUp()">Sign Up
                                   & Verify</button>
                         </div>
                    </div>
                    <div class="divider">OR</div>
                    <button class="btn btn-modern btn-modern-google w-100" onclick="googleLogin()">
                         <i class="bi bi-google me-2"></i> Continue with Google
                    </button>
               </div>
               <div id="user-profile-card" class="profile-card" style="display: none;">
                    <img id="user-avatar" src="img/default-avatar.png" alt="User Avatar" class="profile-avatar">
                    <h3 id="user-name" class="profile-name">User Name</h3>
                    <p id="user-email" class="profile-email">user@example.com</p>
                    <div class="profile-actions">
                         <button class="btn btn-secondary"><i class="bi bi-person-circle me-2"></i> View
                              Dashboard</button>
                         <button class="btn btn-warning" onclick="logout()"><i class="bi bi-box-arrow-right me-2"></i>
                              Logout</button>
                    </div>
               </div>
          </section>
          <section class="my-5 fade-in-section">
               <h2 class="section-heading">About Us</h2>
               <div class="about-box">
                    <p>Seshasayee Institute of Technology, Tiruchirappalli, a pioneering Technical Institution occupying
                         a unique position in the field of technical education in our country, is the outcome of the
                         brilliant vision, farsightedness and philanthropy of our illustrious founder Thiru. V.
                         Seshasayee who was a veteran industrialist and architect of various industrial ventures.</p>
                    <p>He realized the need for more engineers and technicians for rapid industrialization of our
                         country and started this Technical Institution in the year 1952 with the purse presented to him
                         by his friends and well-wishers on the occasion of his 61st birthday. This technical
                         institution was formally declared open on 28th January 1952.</p>
                    <p>It made a humble beginning by conducting A.M.I.E classes. Many Arts and Science Graduates availed
                         this opportunity to become engineers.</p>
               </div>
          </section>
          <section class="my-5 fade-in-section">
               <h2 class="section-heading">Our Departments</h2>
               <div class="cards">
                    <div class="card-custom"><img src="img/computer.jpeg" alt="CSE">
                         <h3>CSE</h3>
                         <p>AI, ML, Software Development, Data Science & Cloud Computing.</p>
                    </div>
                    <div class="card-custom"><img src="img/ice.jpeg" alt="ICE">
                         <h3>ICE</h3>
                         <p>Electronics, Communication Systems, VLSI & Embedded Design.</p>
                    </div>
                    <div class="card-custom"><img src="img/mech.jpeg" alt="Mechanical">
                         <h3>Mechanical</h3>
                         <p>Robotics, Automotive Engineering, and Smart Manufacturing.</p>
                    </div>
                    <div class="card-custom"><img src="img/civil.jpeg" alt="Civil">
                         <h3>Civil</h3>
                         <p>Construction, Smart Cities, Structural & Environmental Engineering.</p>
                    </div>
                    <div class="card-custom"><img src="img/eee.jpg" alt="EEE">
                         <h3>EEE</h3>
                         <p>Electrical Systems, Renewable Energy, Power Electronics.</p>
                    </div>
                    <div class="card-custom"><img src="img/paper.png" alt="Paper Technology">
                         <h3>Paper Technology</h3>
                         <p>Pulp & Paper Manufacturing, Green Technology, Industrial Applications.</p>
                    </div>
                    <div class="card-custom"><img src="img/cemical.png" alt="Chemical Engineering">
                         <h3>Chemical Engineering</h3>
                         <p>Process Design, Petrochemicals, Pharmaceuticals & Biochemical Engineering.</p>
                    </div>
               </div>
          </section>
          <section class="my-5 fade-in-section">
               <h2 class="section-heading">Why Us?</h2>
               <div class="cards">
                    <div class="card-custom"><img src="img/download (1).jpeg" alt="Experience">
                         <h3>73 Years of Experience</h3>
                    </div>
                    <div class="card-custom"><img src="img/scor.jpg" alt="Scholarships">
                         <h3>Scholarships</h3>
                    </div>
                    <div class="card-custom"><img src="img/sport.png" alt="Sports">
                         <h3>Sports</h3>
                    </div>
                    <div class="card-custom"><img src="img/discipline.png" alt="Discipline">
                         <h3>Discipline</h3>
                    </div>
                    <div class="card-custom"><img src="img/EXPORT.png" alt="Faculty">
                         <h3>Highly Qualified Faculties</h3>
                    </div>
                    <div class="card-custom"><img src="img/plasment.png" alt="Placement">
                         <h3>Best Placement Record</h3>
                    </div>
               </div>
          </section>
     </main>
     <section class="contact fade-in-section">
          <h2>Find Us</h2>
          <div class="contact-card">
               <div class="address">
                    <h3>Address</h3>
                    <p>Thanjore Main Road,<br>Ariyamangalam, Kamaraj Nagar,<br>Trichy-620010,<br>Tamilnadu, India</p>
               </div>
               <div class="map-container">
                    <iframe
                         src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3918.895061619428!2d78.7299523152636!3d10.820215761501162!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3baaf56e5cb2a71b%3A0x807357597036c0a0!2sSeshasayee%20Institute%20of%20Technology!5e0!3m2!1sen!2sin!4v1663333333333!5m2!1sen!2sin"
                         allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
               </div>
          </div>
     </section>
     <footer>
          <p>Â© 2025 SIT Trichy | All Rights Reserved</p>
     </footer>
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

     <script type="module">
          // Import the functions you need from the SDKs you need
          import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
          import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-analytics.js";
          import {
               getAuth,
               GoogleAuthProvider,
               signInWithPopup,
               createUserWithEmailAndPassword,
               signInWithEmailAndPassword,
               onAuthStateChanged,
               signOut,
               sendEmailVerification
          } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";

          // Your web app's Firebase configuration
          const firebaseConfig = {
               apiKey: "AIzaSyC5wDc5ISfAUWlcKgu95Nyclti2W8JvDks", // Note: For production, secure this with App Check and Security Rules.
               authDomain: "collage-sit-mani.firebaseapp.com",
               projectId: "collage-sit-mani",
               storageBucket: "collage-sit-mani.appspot.com",
               messagingSenderId: "880675754416",
               appId: "1:880675754416:web:be3536cf1e818fc9cb8675",
               measurementId: "G-3L0P3RS31B"
          };

          // Initialize Firebase
          const app = initializeApp(firebaseConfig);
          const analytics = getAnalytics(app);
          const auth = getAuth(app);
          const provider = new GoogleAuthProvider();

          // UI Elements
          const loginSignupCard = document.getElementById('login-signup-card');
          const userProfileCard = document.getElementById('user-profile-card');
          const userNameElem = document.getElementById('user-name');
          const userEmailElem = document.getElementById('user-email');
          const userAvatarElem = document.getElementById('user-avatar');


          // --- AUTHENTICATION FUNCTIONS ---

          // Google Login
          window.googleLogin = () => {
               signInWithPopup(auth, provider)
                    .then((result) => {
                         console.log("Google sign-in successful", result.user);
                    }).catch((error) => {
                         console.error("Google sign-in error", error);
                         alert(error.message);
                    });
          };

          // Email/Password Sign Up
          window.emailSignUp = () => {
               const email = document.getElementById('signupEmail').value;
               const password = document.getElementById('signupPassword').value;
               if (!email || !password) {
                    alert("Please enter both email and password.");
                    return;
               }
               createUserWithEmailAndPassword(auth, email, password)
                    .then((userCredential) => {
                         sendEmailVerification(auth.currentUser)
                              .then(() => {
                                   alert("Verification email sent! Please check your inbox.");
                              });
                         console.log("Sign up successful", userCredential.user);
                    })
                    .catch((error) => {
                         console.error("Sign up error", error);
                         alert(error.message);
                    });
          };

          // Email/Password Login
          window.emailLogin = () => {
               const email = document.getElementById('loginEmail').value;
               const password = document.getElementById('loginPassword').value;
               if (!email || !password) {
                    alert("Please enter both email and password.");
                    return;
               }
               signInWithEmailAndPassword(auth, email, password)
                    .then((userCredential) => {
                         if (!userCredential.user.emailVerified) {
                              alert("Please verify your email before logging in.");
                              signOut(auth);
                              return;
                         }
                         console.log("Login successful", userCredential.user);
                    })
                    .catch((error) => {
                         console.error("Login error", error);
                         alert(error.message);
                    });
          };

          // Logout
          window.logout = () => {
               signOut(auth).then(() => {
                    console.log("User logged out");
               }).catch((error) => {
                    console.error("Logout error", error);
               });
          };


          // --- AUTH STATE OBSERVER ---
          onAuthStateChanged(auth, (user) => {
               if (user && user.emailVerified) {
                    // User is signed in and verified
                    loginSignupCard.style.display = 'none';
                    userProfileCard.style.display = 'block';

                    userNameElem.textContent = user.displayName || 'Student';
                    userEmailElem.textContent = user.email;
                    if (user.photoURL) {
                         userAvatarElem.src = user.photoURL;
                    } else {
                         // Fallback for users without a photo, e.g., email/password sign-ups
                         userAvatarElem.src = `https://placehold.co/120x120?text=${user.email[0].toUpperCase()}`;
                    }

               } else {
                    // User is signed out or not verified
                    loginSignupCard.style.display = 'block';
                    userProfileCard.style.display = 'none';
               }
          });

     </script>

     <script>
          // --- PRELOADER AND FADE-IN ANIMATION SCRIPT ---
          window.addEventListener('load', () => {
               const preloader = document.getElementById('preloader');
               preloader.style.opacity = '0';
               setTimeout(() => { preloader.style.display = 'none'; }, 500);
          });

          const sections = document.querySelectorAll('.fade-in-section');
          const observerOptions = { root: null, rootMargin: '0px', threshold: 0.1 };
          const observer = new IntersectionObserver((entries, observer) => {
               entries.forEach(entry => {
                    if (entry.isIntersecting) {
                         entry.target.classList.add('is-visible');
                         observer.unobserve(entry.target);
                    }
               });
          }, observerOptions);
          sections.forEach(section => { observer.observe(section); });
     </script>
</body>

</html>